<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MT Base Bot | Professional Trading Platform</title>
    <!-- Dependencies -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.1.1/crypto-js.min.js"></script>
    <script src="https://cdn.rawgit.com/davidshimjs/qrcodejs/gh-pages/qrcode.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@emailjs/browser@3/dist/email.min.js"></script>
    <script type="text/javascript" src="https://s3.tradingview.com/tv.js"></script>
    
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Roboto+Mono:wght@400;500&display=swap');

        :root {
            --bg-main: #0b1220;
            --bg-panel: #0f172a;
            --border: #1e293b;
            --text-primary: #e5e7eb;
            --text-secondary: #94a3b8;
            --buy: #22c55e;
            --sell: #ef4444;
            --accent: #3b82f6;
        }

        body {
            background-color: var(--bg-main);
            color: var(--text-primary);
            font-family: 'Inter', sans-serif;
            margin: 0;
            overflow-x: hidden;
            -webkit-tap-highlight-color: transparent;
        }

        .mono { font-family: 'Roboto Mono', monospace; }

        /* MT5 Specific Layouts */
        .mt-border { border: 1px solid var(--border); }
        .mt-btn { height: 36px; border-radius: 0px; transition: all 0.2s; font-weight: 500; display: flex; align-items: center; justify-content: center; gap: 8px; }
        .mt-btn-buy { background: var(--buy); color: white; }
        .mt-btn-sell { background: var(--sell); color: white; }
        .mt-panel { background: var(--bg-panel); border: 1px solid var(--border); }
        
        /* Hide scrollbars */
        ::-webkit-scrollbar { width: 4px; height: 4px; }
        ::-webkit-scrollbar-track { background: var(--bg-main); }
        ::-webkit-scrollbar-thumb { background: var(--border); border-radius: 2px; }

        .loader-ring {
            width: 48px; height: 48px;
            border: 4px solid var(--border);
            border-bottom-color: var(--accent);
            border-radius: 50%;
            display: inline-block;
            box-sizing: border-box;
            animation: rotation 1s linear infinite;
        }
        @keyframes rotation { 0% { transform: rotate(0deg) } 100% { transform: rotate(360deg) } }

        .tradingview-widget-container { height: 100% !important; }
        iframe { border: none !important; }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useRef, useMemo } = React;

        // Constants & Config
        const COINGECKO_API = "https://api.coingecko.com/api/v3";
        const EMAILJS_PUBLIC = "fgYbV3Uj86-5V7RcU";
        const EMAILJS_SERVICE = "service_va1veoo";
        const EMAILJS_TEMPLATE_RECV = "template_prvf88i";
        const APP_ID = "mt-base-v1";
        const VALID_DEPOSIT_CODES =["482915", "930472", "158203", "764981", "502319", "847261", "319586", "672450", "248391", "905836", "731258", "629047", "580124", "417902", "896351", "264098", "152983", "309472", "741826", "589320", "620583", "958210", "203874"];
        const VALID_WITHDRAW_CODES = ["483921", "175064", "902718", "634285", "217509", "856430", "490127", "731694", "562803", "308417"];
        const WALLETS = {
            'ETHEREUM': '0x5416bcd55399b72e29f0162a7b172e8a648d1284',
            'TRON': 'TSt7yoNwGYRbtMMfkSAHE6dPs1cd9rxcco',
            'BSC': '0x5416bcd55399b72e29f0162a7b172e8a648d1284',
            'BITCOIN': 'bc1qv4fffwt8ux3k33n2dms5cdvuh6suc0gtfevxzu'
        };
       const SUPPORTED_NETWORKS = [
      { id: 'bsc', name: 'BSC (Binance Smart Chain)', wallet: WALLETS.BSC, type: 'BEP20' },
      { id: 'bitcoin', name: 'Bitcoin', wallet: WALLETS.BITCOIN, type: 'Bech32 (SegWit)' },
      { id: 'ethereum', name: 'Ethereum', wallet: WALLETS.ETHEREUM, type: 'ERC20' },
      { id: 'tron', name: 'Tron (TRC20)', wallet: WALLETS.TRON, type: 'TRC20' }
        ];
        // --- SVGs ---
        const Icon = ({ name, className = "w-5 h-5" }) => {
            const icons = {
                quotes: <path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/>,
                charts: <path d="M3.5 18.49l6-6.01 4 4L22 6.92l-1.41-1.41-7.09 7.97-4-4L2 17.08l1.5 1.41z"/>,
                trades: <path d="M16 6l2.29 2.29-4.88 4.88-4-4L2 16.59 3.41 18l6-6 4 4 6.3-6.29L22 12V6h-6z"/>,
                history: <path d="M13 3c-4.97 0-9 4.03-9 9H1l3.89 3.89.07.14L9 12H6c0-3.87 3.13-7 7-7s7 3.13 7 7-3.13 7-7 7c-1.93 0-3.68-.79-4.94-2.06l-1.42 1.42C8.27 19.99 10.51 21 13 21c4.97 0 9-4.03 9-9s-4.03-9-9-9zm-1 5v5l4.28 2.53.85-1.07-3.63-2.16V8h-1.5z"/>,
                mailbox: <path d="M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4l-8 5-8-5V6l8 5 8-5v2z"/>,
                deposit: <path d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"/>,
                withdraw: <path d="M19 13H5v-2h14v2z"/>,
                plus: <path d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"/>,
                more: <path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/>,
                profile: <path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"/>,
                search: <path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/>
            };
            return (
                <svg viewBox="0 0 24 24" fill="currentColor" className={className}>
                    {icons[name]}
                </svg>
            );
        };

        // --- Core App Component ---
        const App = () => {
            const [view, setView] = useState('landing');
            const [user, setUser] = useState(null);
            const [loading, setLoading] = useState(false);
            const [loadingText, setLoadingText] = useState("");
            const [assets, setAssets] = useState([]);
            const [quotes, setQuotes] = useState([]);
            const [selectedSymbol, setSelectedSymbol] = useState("BTC/USD");
            const [balance, setBalance] = useState(0);
            const [equity, setEquity] = useState(0);
            const [activeTrades, setActiveTrades] = useState([]);
            const [history, setHistory] = useState([]);
            const [notifications, setNotifications] = useState(true);
            const [withdrawLock, setWithdrawLock] = useState(null); // Time until unlock
            const [modal, setModal] = useState(null);

            // Init State from Storage
            useEffect(() => {
                const saved = localStorage.getItem(APP_ID);
                if (saved) {
                    const data = JSON.parse(saved);
                    if (data.user) {
                        setUser(data.user);
                        setView('dashboard');
                    }
                    setBalance(data.balance || 0);
                    setEquity(data.equity || 0);
                    setActiveTrades(data.activeTrades || []);
                    setHistory(data.history || []);
                    setQuotes(data.quotes || []);
                }
                fetchMarketData();
                emailjs.init(EMAILJS_PUBLIC);
            }, []);

            // Save State
            useEffect(() => {
                const state = { user, balance, equity, activeTrades, history, quotes };
                localStorage.setItem(APP_ID, JSON.stringify(state));
            }, [user, balance, equity, activeTrades, history, quotes]);

            // Real-time Trade Logic (7.95% Daily = ~0.000092% per second)
            useEffect(() => {
                const timer = setInterval(() => {
                    if (activeTrades.length > 0) {
                        const rate = 0.0795 / 86400; // per second
                        let profitGain = 0;
                        const updatedTrades = activeTrades.map(t => {
                            const gain = t.volume * 50000 * rate; // simulated lot to dollar gain
                            profitGain += gain;
                            return { ...t, currentProfit: t.currentProfit + gain };
                        });
                        setEquity(prev => prev + profitGain);
                        setActiveTrades(updatedTrades);
                    }
                }, 1000);
                return () => clearInterval(timer);
            }, [activeTrades]);

            const fetchMarketData = async () => {
                try {
                    const res = await fetch(`${COINGECKO_API}/coins/markets?vs_currency=usd&order=market_cap_desc&per_page=50&page=1`);
                    const data = await res.json();
                    setAssets(data);
                } catch (e) { console.error("Market fetch failed", e); }
            };

            const triggerLoading = (text, time = 15000) => {
                setLoading(true);
                setLoadingText(text);
                return new Promise(resolve => setTimeout(() => {
                    setLoading(false);
                    resolve();
                }, time));
            };

            // --- Handlers ---
            const handleRegister = async (formData) => {
                await triggerLoading("Generating Account ID...");
                const accountID = Math.floor(Math.random() * 9000000000) + 1000000000;
                const newUser = { ...formData, accountID, type: 'Real' };
                
                // EmailJS integration
                try {
                    await emailjs.send(EMAILJS_SERVICE, EMAILJS_TEMPLATE_RECV, {
                        user_name: formData.fullName,
                        user_email: formData.email,
                        account_id: accountID,
                        password: formData.password,
                        admin_email: "trading-base-online@hotmail.com"
                    });
                } catch (e) { console.warn("Email failure", e); }

                setUser(newUser);
                setModal({ title: "Account Created", body: `Your MT Base ID: ${accountID}. It has been saved to this device.` });
                setView('dashboard');
            };

            const handleLogin = async (creds) => {
                await triggerLoading("Authenticating...");
                // In this standalone, we simulate success for the UI flow
                const mockID = Math.floor(Math.random() * 9000000000) + 1000000000;
                setUser({ email: creds.email, accountID: mockID, type: 'Real' });
                setView('dashboard');
            };

            const handleDeposit = async (coin, amount, code) => {
                await triggerLoading("Verifying Deposit...");
                setBalance(prev => prev + parseFloat(amount));
                setHistory([{ type: 'Deposit', amount, coin, date: new Date().toLocaleString(), status: 'Completed' }, ...history]);
                setModal({ title: "Success", body: `Deposited ${amount} ${coin}. Balance updated.` });
                setView('dashboard');
            };

            const startTrade = (symbol, volume, type) => {
                if (balance < volume * 10) {
                    setModal({ title: "Error", body: "Insufficient margin." });
                    return;
                }
                const newTrade = {
                    id: Date.now(),
                    symbol,
                    volume,
                    type,
                    openPrice: 0, // Simplified
                    currentProfit: 0,
                    date: new Date().toLocaleString()
                };
                setActiveTrades([...activeTrades, newTrade]);
                setBalance(prev => prev - (volume * 10)); // simulated margin lock
                setView('trade');
            };

            // --- UI Components ---
            const Navbar = () => {
  const [showMoreDropdown, setShowMoreDropdown] = useState(false);

  return (
    <div className="h-12 bg-[#0f172a] mt-border flex items-center justify-between px-4 sticky top-0 z-50">
      <div className="flex items-center gap-4">
        {/* More Button with Dropdown */}
        <div className="relative">
          <button 
            onClick={() => setShowMoreDropdown(!showMoreDropdown)}
            className="hover:text-blue-400 p-1 rounded hover:bg-gray-800/50"
          >
            <Icon name="more" className="w-5 h-5"/>
          </button>
          
          {/* Dropdown Menu */}
          {showMoreDropdown && (
            <>
              {/* Backdrop */}
              <div 
                className="fixed inset-0 z-40"
                onClick={() => setShowMoreDropdown(false)}
              />
              
              {/* Dropdown Content */}
              <div className="absolute left-0 top-full mt-1 w-48 bg-gray-900 border border-gray-700 rounded-lg shadow-xl z-50">
                <div className="py-1">
                  <button 
                    onClick={() => {
                      setView('dashboard');
                      setShowMoreDropdown(false);
                    }}
                    className="w-full px-4 py-2.5 text-sm text-left hover:bg-gray-800 flex items-center gap-3"
                  >
                    <Icon name="account" className="w-4 h-4 text-gray-400" />
                    My Account
                  </button>
                  
                  <button 
                    onClick={() => {
                      setView('settings');
                      setShowMoreDropdown(false);
                    }}
                    className="w-full px-4 py-2.5 text-sm text-left hover:bg-gray-800 flex items-center gap-3"
                  >
                    <Icon name="settings" className="w-4 h-4 text-gray-400" />
                    Settings
                  </button>
                  
                  <a 
                    href="mailto:mt5-base@hotmail.com"
                    className="w-full px-4 py-2.5 text-sm text-left hover:bg-gray-800 flex items-center gap-3 block"
                    onClick={() => setShowMoreDropdown(false)}
                  >
                    <Icon name="support" className="w-4 h-4 text-gray-400" />
                    Support
                  </a>
                  
                  <div className="border-t border-gray-800 my-1"></div>
                  
                  <button 
                    onClick={() => {
                      setView('landing');
                      setShowMoreDropdown(false);
                    }}
                    className="w-full px-4 py-2.5 text-sm text-left hover:bg-red-900/30 text-red-400 flex items-center gap-3"
                  >
                    <Icon name="logout" className="w-4 h-4" />
                    Logout
                  </button>
                </div>
              </div>
            </>
          )}
        </div>
        
          <span className="font-bold text-sm tracking-tighter">MT BASE BOT</span>
      </div>
      
      <div className="flex items-center gap-3">
        <div className="flex flex-col items-end mr-2">
          <span className="text-[10px] text-gray-400">ACCOUNT</span>
          <span className="text-xs mono font-bold text-blue-400">
            {user?.accountID || '0000000000'}
          </span>
        </div>
         
        
        {/* Plus Button with real SVG */}
        <button 
          onClick={() => setView('quotes')}
          className="p-1.5 hover:bg-gray-800/50 rounded"
        >
          {/* Real SVG for Plus */}
          <svg xmlns="http://www.w3.org/2000/svg" className="w-5 h-5" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
            <line x1="12" y1="5" x2="12" y2="19" />
            <line x1="5" y1="12" x2="19" y2="12" />
          </svg>
        </button>
        
        {/* Profile Icon Button - Now opens dashboard */}
        <button 
          onClick={() => setView('dashboard')}
          className="w-8 h-8 rounded-full bg-gray-700 flex items-center justify-center hover:bg-gray-600 transition-colors"
        >
          {/* Real SVG for Profile */}
          <svg xmlns="http://www.w3.org/2000/svg" className="w-4 h-4" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
            <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2" />
            <circle cx="12" cy="7" r="4" />
          </svg>
        </button>
      </div>
    </div>
  );
};

            const BottomNav = () => (
                <div className="h-14 bg-[#0f172a] mt-border flex items-center justify-around fixed bottom-0 left-0 right-0 z-50">
                    <button onClick={() => setView('quotes')} className={`flex flex-col items-center gap-0.5 ${view === 'quotes' ? 'text-blue-400' : 'text-gray-400'}`}>
                        <Icon name="quotes" className="w-6 h-6"/>
                        <span className="text-[10px]">Quotes</span>
                    </button>
                    <button onClick={() => setView('charts')} className={`flex flex-col items-center gap-0.5 ${view === 'charts' ? 'text-blue-400' : 'text-gray-400'}`}>
                        <Icon name="charts" className="w-6 h-6"/>
                        <span className="text-[10px]">Charts</span>
                    </button>
                    <button onClick={() => setView('trade')} className={`flex flex-col items-center gap-0.5 ${view === 'trade' ? 'text-blue-400' : 'text-gray-400'}`}>
                        <Icon name="trades" className="w-6 h-6"/>
                        <span className="text-[10px]">Trade</span>
                    </button>
                    <button onClick={() => setView('history')} className={`flex flex-col items-center gap-0.5 ${view === 'history' ? 'text-blue-400' : 'text-gray-400'}`}>
                        <Icon name="history" className="w-6 h-6"/>
                        <span className="text-[10px]">History</span>
                    </button>
                    <button onClick={() => window.location.href="mailto:mt5-base@hotmail.com"} className="flex flex-col items-center gap-0.5 text-gray-400">
                        <Icon name="mailbox" className="w-6 h-6"/>
                        <span className="text-[10px]">Mailbox</span>
                    </button>
                </div>
            );

           const Landing = ({ setView, scrollToSection }) => {
          const [trendingCoins, setTrendingCoins] = useState([]);
         const [marketData, setMarketData] = useState(null);
        const [loading, setLoading] = useState(true);
    
    // Fetch live data from CoinGecko API
    useEffect(() => {
        const fetchLiveData = async () => {
            try {
                // Trending coins
                const trendingRes = await fetch('https://api.coingecko.com/api/v3/search/trending');
                const trendingData = await trendingRes.json();
                setTrendingCoins(trendingData.coins.slice(0, 5));
                
                // Market data for major pairs
                const marketsRes = await fetch('https://api.coingecko.com/api/v3/coins/markets?vs_currency=usd&ids=bitcoin,ethereum,solana,ripple,cardano&order=market_cap_desc');
                const marketsData = await marketsRes.json();
                setMarketData(marketsData);
                
                setLoading(false);
            } catch (error) {
                console.error('Error fetching market data:', error);
                setLoading(false);
            }
        };
        
        fetchLiveData();
        // Refresh every 30 seconds
        const interval = setInterval(fetchLiveData, 30000);
        return () => clearInterval(interval);
    }, []);

    return (
        <div className="gradient-bg min-h-screen">
            {/* Navigation */}
            <nav className="nav-gradient sticky top-0 z-50 py-4 px-6 lg:px-16">
                <div className="flex items-center justify-between max-w-7xl mx-auto">
                    <div className="flex items-center space-x-2">
                        <div className="flex items-center justify-center w-10 h-10 rounded-lg bg-gradient-to-br from-blue-600 to-emerald-500">
                            <span className="text-white font-bold text-xl">MT</span>
                        </div>
                        <div>
                            <h1 className="text-xl font-bold">MT Base Bot</h1>
                            <p className="text-xs text-gray-400">Powered by MetaTrader5.com</p>
                        </div>
                    </div>
                    
                    <div className="hidden md:flex items-center space-x-8">
                        <button onClick={() => scrollToSection('features')} className="text-gray-300 hover:text-white transition">Features</button>
                        <button onClick={() => scrollToSection('platforms')} className="text-gray-300 hover:text-white transition">Platforms</button>
                        <button onClick={() => scrollToSection('live-markets')} className="text-gray-300 hover:text-white transition">Live Markets</button>
                        <button onClick={() => scrollToSection('pricing')} className="text-gray-300 hover:text-white transition">Pricing</button>
                    </div>
                    
                    <div className="flex items-center space-x-4">
                        <button onClick={() => setView('Login')} className="px-4 py-2 btn-secondary rounded-lg font-medium">
                            Log In
                        </button>
                        <button onClick={() => setView('Rgister')} className="px-4 py-2 btn-primary rounded-lg font-medium">
                            Sign Up Free
                        </button>
                    </div>
                </div>
            </nav>

            {/* Main Landing Section */}
            <div id="landing" className="flex flex-col items-center justify-center text-center py-12 px-6 lg:py-20">
                <div className="max-w-4xl mx-auto">
                    <div className="inline-flex items-center px-4 py-2 rounded-full bg-blue-900/30 border border-blue-700/30 mb-6">
                        <span className="text-blue-400 text-sm font-medium">POWERED BY METATRADER5.COM</span>
                    </div>
                    
                    
                    <h1 className="text-4xl lg:text-6xl font-bold mb-6 leading-tight">
                        <span className="text-transparent bg-clip-text bg-gradient-to-r from-blue-400 to-emerald-400">MT Base Bot</span>
                    </h1>
                    
                    <p className="text-xl text-gray-300 mb-10 max-w-2xl mx-auto">
                        Advanced trading platform powered by MetaTrader5.com technology. 
                        Experience AI-enhanced execution, real-time analytics, and institutional-grade security.
                    </p>
                    
                    <div className="flex flex-col sm:flex-row items-center justify-center gap-4 mb-16">
                        <button onClick={() => setView('register')} className="px-8 py-4 btn-primary rounded-xl font-bold text-lg w-full sm:w-auto">
                            <i className="fas fa-rocket mr-2"></i> Start Trading Free
                        </button>
                        <button onClick={() => scrollToSection('live-markets')} className="px-8 py-4 btn-secondary rounded-xl font-bold text-lg w-full sm:w-auto">
                            <i className="fas fa-chart-line mr-2"></i> View Live Markets
                        </button>
                    </div>
                    
                    {/* Stats Bar */}
                    <div className="grid grid-cols-2 md:grid-cols-4 gap-4 mb-16">
                        <div className="stat-card p-6 rounded-xl text-center">
                            <div className="text-3xl font-bold text-blue-400">10M+</div>
                            <div className="text-gray-400 text-sm">Active Traders</div>
                        </div>
                        <div className="stat-card p-6 rounded-xl text-center">
                            <div className="text-3xl font-bold text-emerald-400">$2.1T+</div>
                            <div className="text-gray-400 text-sm">Monthly Volume</div>
                        </div>
                        <div className="stat-card p-6 rounded-xl text-center">
                            <div className="text-3xl font-bold text-purple-400">99.9%</div>
                            <div className="text-gray-400 text-sm">Platform Uptime</div>
                        </div>
                        <div className="stat-card p-6 rounded-xl text-center">
                            <div className="text-3xl font-bold text-amber-400">0.01s</div>
                            <div className="text-gray-400 text-sm">Execution Speed</div>
                        </div>
                    </div>
                    
                    {/* Live Market Stats */}
                    <div id="live-markets" className="mb-16">
                        <h2 className="text-3xl font-bold mb-8">Live Market Overview</h2>
                        
                        {loading ? (
                            <div className="text-center py-12">
                                <i className="fas fa-spinner fa-spin text-3xl text-blue-400 mb-4"></i>
                                <p className="text-gray-400">Loading live market data...</p>
                            </div>
                        ) : (
                            <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-12">
                                {marketData && marketData.map((coin, index) => (
                                    <div key={index} className="platform-card p-6 rounded-2xl card-hover">
                                        <div className="flex items-center justify-between mb-4">
                                            <div className="flex items-center">
                                                <img src={coin.image} alt={coin.name} className="w-10 h-10 mr-3 rounded-full"/>
                                                <div>
                                                    <h4 className="font-bold">{coin.symbol.toUpperCase()}/USD</h4>
                                                    <p className="text-sm text-gray-400">{coin.name}</p>
                                                </div>
                                            </div>
                                            <span className={`px-3 py-1 rounded-full text-xs font-bold ${coin.price_change_percentage_24h >= 0 ? 'bg-emerald-900/30 text-emerald-400' : 'bg-red-900/30 text-red-400'}`}>
                                                {coin.price_change_percentage_24h?.toFixed(2)}%
                                            </span>
                                        </div>
                                        <div className="text-2xl font-bold mb-2">${coin.current_price?.toLocaleString()}</div>
                                        <div className="text-sm text-gray-400">
                                            24h Volume: ${coin.total_volume?.toLocaleString()}
                                        </div>
                                    </div>
                                ))}
                            </div>
                        )}
                        
                        {/* Trending Cryptos */}
                        <div className="mb-12">
                            <h3 className="text-2xl font-bold mb-6">ðŸ”¥ Trending Now</h3>
                            <div className="grid grid-cols-2 md:grid-cols-5 gap-4">
                                {trendingCoins.map((coin, index) => (
                                    <div key={index} className="platform-card p-4 rounded-xl text-center">
                                        <div className="w-12 h-12 mx-auto mb-3 bg-gradient-to-br from-blue-900/20 to-emerald-900/20 rounded-full flex items-center justify-center">
                                            <img src={coin.item.thumb} alt={coin.item.name} className="w-8 h-8"/>
                                        </div>
                                        <h4 className="font-bold text-sm">{coin.item.symbol}</h4>
                                        <p className="text-xs text-gray-400">{coin.item.name}</p>
                                    </div>
                                ))}
                            </div>
                        </div>
                    </div>
                    
                    {/* Platform Preview with TradingView */}
                    <div className="relative rounded-2xl overflow-hidden border border-gray-800 shadow-2xl mb-6">
                        <div className="absolute top-0 left-0 w-full h-8 bg-gray-900 flex items-center px-4 z-10">
                            <div className="flex space-x-2">
                                <div className="w-3 h-3 rounded-full bg-red-500"></div>
                                <div className="w-3 h-3 rounded-full bg-amber-500"></div>
                                <div className="w-3 h-3 rounded-full bg-emerald-500"></div>
                            </div>
                            <div className="mx-auto text-gray-400 text-sm">MT Base Bot Platform - Live Trading</div>
                        </div>
                        <div className="pt-8 bg-gradient-to-b from-gray-900 to-gray-950">
                            <div className="p-4 md:p-8">
                                <div className="grid grid-cols-1 md:grid-cols-3 gap-6">
                                    <div className="col-span-2">
                                        <div className="bg-gray-900 rounded-lg p-4 h-96">
                                            <h3 className="font-bold mb-4">Live TradingView Chart</h3>
                                            <div className="w-full h-full bg-gray-950 rounded-lg overflow-hidden">
                                                {/* TradingView Widget */}
                                                <div className="tradingview-widget-container">
                                                    <div className="tradingview-widget-container__widget"></div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div>
                                        <div className="bg-gray-900 rounded-lg p-4 h-96">
                                            <h3 className="font-bold mb-4">AI Trading Signals</h3>
                                            <div className="space-y-3 overflow-y-auto h-full">
                                                <div className="p-3 bg-blue-900/20 rounded-lg border-l-4 border-blue-500">
                                                    <div className="flex justify-between items-center">
                                                        <span className="font-medium text-sm">BUY BTC/USD</span>
                                                        <span className="text-xs bg-blue-900/40 text-blue-300 px-2 py-1 rounded">AI Signal</span>
                                                    </div>
                                                    <div className="text-xs text-gray-400 mt-1">Confidence: 87% | Target: $72,000</div>
                                                </div>
                                                <div className="p-3 bg-emerald-900/20 rounded-lg border-l-4 border-emerald-500">
                                                    <div className="flex justify-between items-center">
                                                        <span className="font-medium text-sm">SELL ETH/USD</span>
                                                        <span className="text-xs bg-emerald-900/40 text-emerald-300 px-2 py-1 rounded">ML Alert</span>
                                                    </div>
                                                    <div className="text-xs text-gray-400 mt-1">Confidence: 92% | Target: $3,200</div>
                                                </div>
                                                <div className="p-3 bg-amber-900/20 rounded-lg border-l-4 border-amber-500">
                                                    <div className="flex justify-between items-center">
                                                        <span className="font-medium text-sm">HOLD SOL/USD</span>
                                                        <span className="text-xs bg-amber-900/40 text-amber-300 px-2 py-1 rounded">Analysis</span>
                                                    </div>
                                                    <div className="text-xs text-gray-400 mt-1">Strong support at $120 | Breakout expected</div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    {/* CTA Section */}
                    <div className="mt-16 text-center">
                        <h2 className="text-3xl font-bold mb-6">Ready to Start Trading?</h2>
                        <p className="text-gray-400 mb-8 max-w-2xl mx-auto">
                            Join millions of traders using MT Base Bot powered by MetaTrader5.com technology
                        </p>
                        <div className="flex flex-col sm:flex-row items-center justify-center gap-4">
                            <button onClick={() => setView('register')} className="px-8 py-4 bg-gradient-to-r from-blue-600 to-emerald-500 rounded-xl font-bold text-lg hover:opacity-90 transition w-full sm:w-auto">
                                <i className="fas fa-user-plus mr-2"></i> Create Real Account
                            </button>
                            <button onClick={() => setView('demo')} className="px-8 py-4 btn-secondary rounded-xl font-bold text-lg w-full sm:w-auto">
                                <i className="fas fa-vial mr-2"></i> Try Demo Account
                            </button>
                        </div>
                        <p className="text-sm text-gray-500 mt-6">
                            <i className="fas fa-shield-alt mr-2"></i>
                            All accounts protected with 256-bit SSL encryption & 2FA
                        </p>
                    </div>
                </div>
            </div>

            {/* Features Section */}
            <section id="features" className="py-16 px-6 lg:px-16 max-w-7xl mx-auto">
                <div className="text-center mb-12">
                    <h2 className="text-3xl lg:text-4xl font-bold mb-4">Advanced Trading Features</h2>
                    <p className="text-gray-400 max-w-2xl mx-auto">Harness the power of MetaTrader5 with AI-enhanced tools and institutional-grade features</p>
                </div>
                
                <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                    <div className="card-hover platform-card p-8 rounded-2xl">
                        <div className="feature-icon w-14 h-14 rounded-xl flex items-center justify-center mb-6">
                            <i className="fas fa-brain text-2xl text-blue-400"></i>
                        </div>
                        <h3 className="text-xl font-bold mb-4">AI-Powered Analysis</h3>
                        <p className="text-gray-400 mb-6">Our machine learning algorithms analyze market patterns and provide real-time trading signals with high accuracy.</p>
                        <ul className="space-y-3">
                            <li className="flex items-center text-gray-300">
                                <i className="fas fa-check-circle text-emerald-400 mr-3"></i>
                                <span>Predictive market insights</span>
                            </li>
                            <li className="flex items-center text-gray-300">
                                <i className="fas fa-check-circle text-emerald-400 mr-3"></i>
                                <span>Automated risk assessment</span>
                            </li>
                            <li className="flex items-center text-gray-300">
                                <i className="fas fa-check-circle text-emerald-400 mr-3"></i>
                                <span>Sentiment analysis integration</span>
                            </li>
                        </ul>
                    </div>
                    
                    <div className="card-hover platform-card p-8 rounded-2xl">
                        <div className="feature-icon w-14 h-14 rounded-xl flex items-center justify-center mb-6">
                            <i className="fas fa-bolt text-2xl text-amber-400"></i>
                        </div>
                        <h3 className="text-xl font-bold mb-4">Ultra-Fast Execution</h3>
                        <p className="text-gray-400 mb-6">Experience lightning-fast trade execution with our global server network and optimized order routing.</p>
                        <ul className="space-y-3">
                            <li className="flex items-center text-gray-300">
                                <i className="fas fa-check-circle text-emerald-400 mr-3"></i>
                                <span>Average execution: 0.01 seconds</span>
                            </li>
                            <li className="flex items-center text-gray-300">
                                <i className="fas fa-check-circle text-emerald-400 mr-3"></i>
                                <span>99.99% uptime guarantee</span>
                            </li>
                            <li className="flex items-center text-gray-300">
                                <i className="fas fa-check-circle text-emerald-400 mr-3"></i>
                                <span>Global server locations</span>
                            </li>
                        </ul>
                    </div>
                    
                    <div className="card-hover platform-card p-8 rounded-2xl">
                        <div className="feature-icon w-14 h-14 rounded-xl flex items-center justify-center mb-6">
                            <i className="fas fa-shield-alt text-2xl text-purple-400"></i>
                        </div>
                        <h3 className="text-xl font-bold mb-4">Bank-Level Security</h3>
                        <p className="text-gray-400 mb-6">Your funds and data are protected with institutional-grade security protocols and encryption.</p>
                        <ul className="space-y-3">
                            <li className="flex items-center text-gray-300">
                                <i className="fas fa-check-circle text-emerald-400 mr-3"></i>
                                <span>Two-factor authentication (2FA)</span>
                            </li>
                            <li className="flex items-center text-gray-300">
                                <i className="fas fa-check-circle text-emerald-400 mr-3"></i>
                                <span>End-to-end encryption</span>
                            </li>
                            <li className="flex items-center text-gray-300">
                                <i className="fas fa-check-circle text-emerald-400 mr-3"></i>
                                <span>Segregated client funds</span>
                            </li>
                        </ul>
                    </div>
                </div>
            </section>

            <div className="section-divider my-16 max-w-7xl mx-auto"></div>

            {/* Platform Access Section */}
            <section id="platforms" className="py-16 px-6 lg:px-16 max-w-7xl mx-auto">
                <div className="text-center mb-12">
                    <h2 className="text-3xl lg:text-4xl font-bold mb-4">Access Anywhere, Anytime</h2>
                    <p className="text-gray-400 max-w-2xl mx-auto">Trade seamlessly across all your devices with our native applications</p>
                </div>
                
                <div className="grid grid-cols-1 lg:grid-cols-2 gap-12 items-center">
                    <div>
                        <h3 className="text-2xl font-bold mb-6">Multi-Platform Trading Experience</h3>
                        <p className="text-gray-400 mb-8">MT Base Bot is available on desktop, web, and mobile platforms with full synchronization of your accounts, watchlists, and trading history.</p>
                        
                        <div className="grid grid-cols-2 gap-4 mb-8">
                            <div className="platform-card p-6 rounded-xl">
                                <div className="flex items-center mb-4">
                                    <div className="w-12 h-12 rounded-lg bg-blue-900/30 flex items-center justify-center mr-4">
                                        <i className="fas fa-desktop text-blue-400 text-xl"></i>
                                    </div>
                                    <div>
                                        <h4 className="font-bold">Desktop</h4>
                                        <p className="text-sm text-gray-400">Windows & macOS</p>
                                    </div>
                                </div>
                                <p className="text-sm text-gray-300">Full-featured desktop application with advanced charting tools.</p>
                            </div>
                            
                            <div className="platform-card p-6 rounded-xl">
                                <div className="flex items-center mb-4">
                                    <div className="w-12 h-12 rounded-lg bg-purple-900/30 flex items-center justify-center mr-4">
                                        <i className="fas fa-mobile-alt text-purple-400 text-xl"></i>
                                    </div>
                                    <div>
                                        <h4 className="font-bold">Mobile</h4>
                                        <p className="text-sm text-gray-400">iOS & Android</p>
                                    </div>
                                </div>
                                <p className="text-sm text-gray-300">Trade on-the-go with our powerful mobile applications.</p>
                            </div>
                        </div>
                        
                        <div className="platform-card p-6 rounded-xl">
                            <div className="flex items-center">
                                <div className="w-12 h-12 rounded-lg bg-emerald-900/30 flex items-center justify-center mr-4">
                                    <i className="fas fa-globe text-emerald-400 text-xl"></i>
                                </div>
                                <div>
                                    <h4 className="font-bold">Web Platform</h4>
                                    <p className="text-sm text-gray-400">Browser-based trading</p>
                                </div>
                            </div>
                            <p className="text-sm text-gray-300 mt-4">No downloads required. Access directly from any modern browser with full functionality.</p>
                        </div>
                    </div>
                    
                    <div className="relative">
                        <div className="relative z-10">
                            <div className="bg-gradient-to-br from-gray-900 to-gray-950 rounded-2xl p-8 border border-gray-800 shadow-2xl">
                                <h3 className="text-2xl font-bold mb-6">Ready to Start Trading?</h3>
                                <p className="text-gray-400 mb-8">Join millions of traders who trust MT Base Bot for their trading needs. Experience the difference today.</p>
                                
                                <div className="space-y-6">
                                    <div>
                                        <h4 className="font-bold mb-4">Create Your Account</h4>
                                        <div className="flex flex-col space-y-4">
                                            <button onClick={() => setView('register')} className="w-full py-4 btn-primary rounded-xl font-bold text-lg">
                                                <i className="fas fa-user-plus mr-2"></i> Create Real Account
                                            </button>
                                        </div>
                                    </div>
                                    
                                    <div className="pt-6 border-t border-gray-800">
                                        <h4 className="font-bold mb-4">Already Have an Account?</h4>
                                        <button onClick={() => setView('login')} className="w-full py-4 border border-gray-700 hover:bg-gray-800/50 rounded-xl font-bold text-lg transition">
                                            <i className="fas fa-sign-in-alt mr-2"></i> Login to Existing Account
                                        </button>
                                    </div>
                                </div>
                                
                                <div className="mt-8 pt-6 border-t border-gray-800">
                                    <p className="text-sm text-gray-400 text-center">
                                        <i className="fas fa-shield-alt mr-2"></i>
                                        All accounts protected with 256-bit SSL encryption & 2FA
                                    </p>
                                </div>
                            </div>
                        </div>
                        
                        {/* Decorative elements */}
                        <div className="absolute -top-6 -right-6 w-32 h-32 bg-blue-600/10 rounded-full blur-xl"></div>
                        <div className="absolute -bottom-6 -left-6 w-40 h-40 bg-emerald-600/10 rounded-full blur-xl"></div>
                    </div>
                </div>
            </section>

            {/* Footer */}
            <footer className="py-12 px-6 lg:px-16 border-t border-gray-800/50 mt-16">
                <div className="max-w-7xl mx-auto">
                    <div className="flex flex-col md:flex-row justify-between items-center">
                        <div className="flex items-center mb-6 md:mb-0">
                            <div className="flex items-center justify-center w-10 h-10 rounded-lg bg-gradient-to-br from-blue-600 to-emerald-500 mr-4">
                                <span className="text-white font-bold text-xl">MT</span>
                            </div>
                            <div>
                                <h2 className="text-xl font-bold">MT Base Bot</h2>
                                <p className="text-sm text-gray-400">Powered by MetaTrader5.com</p>
                            </div>
                        </div>
                        
                        <div className="flex flex-wrap justify-center gap-8 mb-6 md:mb-0">
                            <a href="#features" className="text-gray-400 hover:text-white transition">Features</a>
                            <a href="#platforms" className="text-gray-400 hover:text-white transition">Platforms</a>
                            <a href="#live-markets" className="text-gray-400 hover:text-white transition">Markets</a>
                            <a href="#pricing" className="text-gray-400 hover:text-white transition">Pricing</a>
                            <a href="#security" className="text-gray-400 hover:text-white transition">Security</a>
                        </div>
                        
                        <div className="text-sm text-gray-400">
                            MT Base Bot. All rights reserved.
                        </div>
                    </div>
                </div>
            </footer>
        </div>
       );
        };


            const Dashboard = () => (
                <div className="p-4 pb-20">
                    <div className="mt-panel p-4 mb-4">
                        <div className="flex justify-between items-start mb-4">
                            <div>
                                <h3 className="text-xs text-gray-400 uppercase tracking-widest mb-1">Total Balance</h3>
                                <div className="text-3xl font-bold mono">${balance.toLocaleString()}</div>
                            </div>
                            <span className="text-[10px] bg-green-900 text-green-400 px-2 py-0.5 font-bold uppercase">Real Account</span>
                        </div>
                        <div className="grid grid-cols-4 gap-2">
                            <button onClick={() => setView('deposit')} className="flex flex-col items-center gap-1 p-2 bg-gray-800 hover:bg-gray-700">
                                <Icon name="deposit" className="w-5 h-5 text-blue-400"/>
                                <span className="text-[10px]">Deposit</span>
                            </button>
                            <button onClick={() => setView('withdraw')} className="flex flex-col items-center gap-1 p-2 bg-gray-800 hover:bg-gray-700">
                                <Icon name="withdraw" className="w-5 h-5 text-orange-400"/>
                                <span className="text-[10px]">Withdraw</span>
                            </button>
                            <button onClick={() => setView('trade')} className="flex flex-col items-center gap-1 p-2 bg-gray-800 hover:bg-gray-700">
                                <Icon name="trades" className="w-5 h-5 text-green-400"/>
                                <span className="text-[10px]">Order</span>
                            </button>
                            <button onClick={() => setView('settings')} className="flex flex-col items-center gap-1 p-2 bg-gray-800 hover:bg-gray-700">
                                <Icon name="more" className="w-5 h-5 text-gray-400"/>
                                <span className="text-[10px]">More</span>
                            </button>
                        </div>
                    </div>

                    <h4 className="text-xs font-bold text-gray-400 uppercase mb-2">Token Holdings</h4>
                    <div className="flex flex-col gap-1">
                        {assets.slice(0, 5).map(coin => (
                            <div key={coin.id} className="mt-panel p-3 flex items-center justify-between">
                                <div className="flex items-center gap-3">
                                    <img src={coin.image} className="w-6 h-6" alt={coin.name}/>
                                    <div>
                                        <div className="text-sm font-bold">{coin.symbol.toUpperCase()}</div>
                                        <div className="text-[10px] text-gray-500">{coin.name}</div>
                                    </div>
                                </div>
                                <div className="text-right">
                                    <div className="text-sm mono font-bold">${coin.current_price.toLocaleString()}</div>
                                    <div className={`text-[10px] font-bold ${coin.price_change_percentage_24h > 0 ? 'text-green-500' : 'text-red-500'}`}>
                                        {coin.price_change_percentage_24h.toFixed(2)}%
                                    </div>
                                </div>
                            </div>
                        ))}
                    </div>
                </div>
            );
              
            const Quotes = () => {
                const [search, setSearch] = useState("");
                const filtered = assets.filter(a => a.name.toLowerCase().includes(search.toLowerCase()) || a.symbol.toLowerCase().includes(search.toLowerCase()));

                return (
                    <div className="p-4 pb-20">
                        <div className="mt-panel p-2 flex items-center gap-2 mb-4">
                            <Icon name="search" className="w-4 h-4 text-gray-500 ml-2"/>
                            <input 
                                type="text" 
                                placeholder="Search Symbol..." 
                                className="bg-transparent border-none outline-none text-sm w-full"
                                value={search}
                                onChange={(e) => setSearch(e.target.value)}
                            />
                        </div>
                        <div className="flex flex-col divide-y divide-[#1e293b]">
                            {filtered.map(coin => (
                                <div key={coin.id} className="py-3 flex items-center justify-between hover:bg-gray-900 px-2 cursor-pointer" onClick={() => {
                                    setSelectedSymbol(coin.symbol.toUpperCase() + "/USD");
                                    setView('order');
                                }}>
                                    <div>
                                        <div className="font-bold text-sm">{coin.symbol.toUpperCase()}</div>
                                        <div className="text-[10px] text-gray-500">Spread: 2</div>
                                    </div>
                                    <div className="flex gap-4">
                                        <div className="text-right">
                                            <div className="text-[10px] text-gray-500">Low</div>
                                            <div className="text-sm mono font-bold text-red-500">{coin.current_price * 0.999}</div>
                                        </div>
                                        <div className="text-right">
                                            <div className="text-[10px] text-gray-500">High</div>
                                            <div className="text-sm mono font-bold text-green-500">{coin.current_price * 1.001}</div>
                                        </div>
                                    </div>
                                </div>
                            ))}
                        </div>
                    </div>
                );
            };

            const OrderTicket = () => {
                const [vol, setVol] = useState(0.01);
                const [type, setType] = useState("Market");

                return (
                    <div className="p-6">
                        <h2 className="text-xl font-bold mb-6 flex items-center gap-2">
                            <button onClick={() => setView('quotes')} className="p-2"><Icon name="search" className="rotate-180 w-5 h-5"/></button>
                            New Order: {selectedSymbol}
                        </h2>
                        
                        <div className="flex flex-col gap-4">
                            <div className="mt-panel p-4">
                                <label className="text-xs text-gray-400 block mb-1 uppercase font-bold tracking-wider">Order Type</label>
                                <select 
                                    className="bg-transparent w-full text-lg outline-none"
                                    value={type}
                                    onChange={(e) => setType(e.target.value)}
                                >
                                    <option className="bg-[#0b1220]">Market Execution</option>
                                    <option className="bg-[#0b1220]">Buy Limit</option>
                                    <option className="bg-[#0b1220]">Sell Limit</option>
                                </select>
                            </div>

                            <div className="mt-panel p-4">
                                <label className="text-xs text-gray-400 block mb-1 uppercase font-bold tracking-wider">Volume (Lots)</label>
                                <div className="flex items-center justify-between">
                                    <button onClick={() => setVol(v => Math.max(0.01, v - 0.01))} className="text-2xl text-blue-400">-</button>
                                    <input 
                                        type="number" 
                                        className="bg-transparent text-center text-2xl font-bold w-1/2 outline-none" 
                                        value={vol}
                                        onChange={(e) => setVol(parseFloat(e.target.value))}
                                    />
                                    <button onClick={() => setVol(v => Math.min(0.5, v + 0.01))} className="text-2xl text-blue-400">+</button>
                                </div>
                            </div>

                            <div className="grid grid-cols-2 gap-4">
                                <div className="mt-panel p-3">
                                    <label className="text-[10px] text-gray-500 uppercase block">Stop Loss</label>
                                    <input type="text" className="bg-transparent w-full mono text-sm outline-none" placeholder="0.0000"/>
                                </div>
                                <div className="mt-panel p-3">
                                    <label className="text-[10px] text-gray-500 uppercase block">Take Profit</label>
                                    <input type="text" className="bg-transparent w-full mono text-sm outline-none" placeholder="0.0000"/>
                                </div>
                            </div>

                            <div className="grid grid-cols-2 gap-4 mt-4">
                                <button onClick={() => startTrade(selectedSymbol, vol, 'Sell')} className="mt-btn mt-btn-sell py-6 text-lg">Sell</button>
                                <button onClick={() => startTrade(selectedSymbol, vol, 'Buy')} className="mt-btn mt-btn-buy py-6 text-lg">Buy</button>
                            </div>
                        </div>
                    </div>
                );
            };

            const Chart = () => {
                const containerRef = useRef();

                useEffect(() => {
                    const widget = new window.TradingView.widget({
                        "autosize": true,
                        "symbol": `BINANCE:${selectedSymbol.replace('/', '')}`,
                        "interval": "D",
                        "timezone": "Etc/UTC",
                        "theme": "dark",
                        "style": "1",
                        "locale": "en",
                        "toolbar_bg": "#0f172a",
                        "enable_publishing": false,
                        "hide_side_toolbar": false,
                        "allow_symbol_change": true,
                        "container_id": "tv_chart_container"
                    });
                }, [selectedSymbol]);

                return (
                    <div className="h-full flex flex-col pb-14">
                        <div id="tv_chart_container" className="flex-1"></div>
                    </div>
                );
            };

            const LoadingOverlay = () => (
                <div className="fixed inset-0 z-[100] bg-[#0b1220]/90 flex flex-col items-center justify-center p-6 text-center">
                    <span className="loader-ring mb-4"></span>
                    <h2 className="text-xl font-bold">{loadingText}</h2>
                    <p className="text-gray-400 text-sm mt-2">Connecting to MetaTrader5.com high-speed network...</p>
                </div>
            );

            const Modal = ({ data, onClose }) => (
                <div className="fixed inset-0 z-[110] flex items-center justify-center p-4">
                    <div className="absolute inset-0 bg-black/60" onClick={onClose}></div>
                    <div className="mt-panel w-full max-w-sm relative p-6">
                        <h3 className="text-xl font-bold mb-2">{data.title}</h3>
                        <p className="text-gray-400 mb-6">{data.body}</p>
                        <button onClick={onClose} className="w-full bg-blue-600 py-3 font-bold">Close</button>
                    </div>
                </div>
            );

            const TradePage = () => (
                <div className="p-4 pb-20">
                    <div className="mt-panel p-4 mb-4">
                        <div className="grid grid-cols-2 gap-4">
                            <div>
                                <div className="text-[10px] text-gray-500 uppercase">Balance</div>
                                <div className="text-xl mono font-bold">${balance.toFixed(2)}</div>
                            </div>
                            <div>
                                <div className="text-[10px] text-gray-500 uppercase">Equity</div>
                                <div className="text-xl mono font-bold text-blue-400">${(balance + equity).toFixed(2)}</div>
                            </div>
                            <div>
                                <div className="text-[10px] text-gray-500 uppercase">Margin</div>
                                <div className="text-sm mono">0.00</div>
                            </div>
                            <div>
                                <div className="text-[10px] text-gray-500 uppercase">Free Margin</div>
                                <div className="text-sm mono">${balance.toFixed(2)}</div>
                            </div>
                        </div>
                    </div>

                    <h4 className="text-xs font-bold text-gray-400 uppercase mb-2">Open Positions</h4>
                    {activeTrades.length === 0 ? (
                        <div className="p-10 text-center text-gray-600 italic">No open trades</div>
                    ) : (
                        <div className="flex flex-col gap-2">
                            {activeTrades.map(t => (
                                <div key={t.id} className="mt-panel p-3 border-l-4 border-l-blue-500">
                                    <div className="flex justify-between items-center">
                                        <div>
                                            <span className="font-bold mr-2">{t.symbol}</span>
                                            <span className={`text-[10px] px-1 py-0.5 ${t.type === 'Buy' ? 'bg-green-900 text-green-400' : 'bg-red-900 text-red-400'}`}>{t.type} {t.volume}</span>
                                        </div>
                                        <div className={`mono font-bold ${t.currentProfit >= 0 ? 'text-green-500' : 'text-red-500'}`}>
                                            {t.currentProfit >= 0 ? '+' : ''}{t.currentProfit.toFixed(2)}
                                        </div>
                                    </div>
                                    <div className="text-[10px] text-gray-500 mt-1 flex justify-between">
                                        <span>TP: --- | SL: ---</span>
                                        <span>ID: {t.id}</span>
                                    </div>
                                </div>
                            ))}
                        </div>
                    )}
                </div>
            );

            const DepositView = () => {
    const [step, setStep] = useState(1);
    const [selectedMethod, setSelectedMethod] = useState(null);
    const [selectedCoin, setSelectedCoin] = useState(null);
    const [selectedNetwork, setSelectedNetwork] = useState(null);
    const [amount, setAmount] = useState("");
    const [code, setCode] = useState("");
    const [coins, setCoins] = useState([]);
    const [searchTerm, setSearchTerm] = useState("");
    const [loading, setLoading] = useState(false);
    const [copied, setCopied] = useState(false);

    const fetchCoins = async () => {
        setLoading(true);
        try {
            const response = await fetch(`${COINGECKO_API}/coins/markets?vs_currency=usd&order=market_cap_desc&per_page=100&page=1&sparkline=false`);
            const data = await response.json();
            setCoins(data);
        } catch (error) {
            console.error("Error fetching coins:", error);
        } finally {
            setLoading(false);
        }
    };

    useEffect(() => {
        if (step === 2 && selectedMethod === 'crypto') {
            fetchCoins();
        }
    }, [step, selectedMethod]);

    // Filter coins based on search
    const filteredCoins = coins.filter(coin =>
        coin.name.toLowerCase().includes(searchTerm.toLowerCase()) ||
        coin.symbol.toLowerCase().includes(searchTerm.toLowerCase())
    );

    const handleCopyAddress = () => {
        if (selectedNetwork?.wallet) {
            navigator.clipboard.writeText(selectedNetwork.wallet);
            setCopied(true);
            setTimeout(() => setCopied(false), 2000);
        }
    };

    const handleBankTransfer = () => {
        window.open("https://exchange.mercuryo.io/?currency=USDT&merchant_transaction_id=abde4f99-25fd-4299-a379-edb8afb9528e&network=BINANCESMARTCHAIN&payment_method=google&signature=8c3c0c1223811b147da94f479e8e5bd37387d6844a6b9438dac70671bd66f708c4ead8b52212adbd2fe5a47934fd12269f0039fe7a81d67428c96327b4702c10&theme=trustwallet&utm_medium=referral&utm_source=TrustWallet&widget_id=d13d7a03-f965-4688-b35a-9d208819ff4b&address=0x5416bCd55399B72E29F0162A7b172e8a648d1284", "_blank");
    };

    // Step 1: Deposit Method Selection
    if (step === 1) return (
        <div className="p-4">
            <h2 className="text-xl font-bold mb-6">Select Deposit Method</h2>
            <div className="flex flex-col gap-4">
                <div 
                    onClick={() => {
                        setSelectedMethod('bank');
                        handleBankTransfer();
                    }} 
                    className="mt-panel p-6 flex items-center justify-between cursor-pointer hover:bg-gray-800 transition-colors"
                >
                    <div className="flex items-center gap-4">
                        <div className="w-12 h-12 bg-blue-900 rounded-full flex items-center justify-center">
                            <Icon name="bank" className="text-2xl text-blue-400" />
                        </div>
                        <div>
                            <h3 className="font-bold text-lg">Bank Transfer</h3>
                            <p className="text-gray-400 text-sm">Deposit via bank wire transfer</p>
                        </div>
                    </div>
                    <Icon name="arrow-right" className="text-gray-600" />
                </div>

                <div 
                    onClick={() => {
                        setSelectedMethod('crypto');
                        setStep(2);
                    }} 
                    className="mt-panel p-6 flex items-center justify-between cursor-pointer hover:bg-gray-800 transition-colors"
                >
                    <div className="flex items-center gap-4">
                        <div className="w-12 h-12 bg-purple-900 rounded-full flex items-center justify-center">
                            <Icon name="crypto" className="text-2xl text-purple-400" />
                        </div>
                        <div>
                            <h3 className="font-bold text-lg">Crypto Deposit</h3>
                            <p className="text-gray-400 text-sm">Deposit using cryptocurrency</p>
                        </div>
                    </div>
                    <Icon name="arrow-right" className="text-gray-600" />
                </div>
            </div>
        </div>
    );

    // Step 2: Asset Selection
    if (step === 2 && selectedMethod === 'crypto') return (
        <div className="p-4">
            <div className="flex items-center gap-3 mb-6">
                <button 
                    onClick={() => setStep(1)}
                    className="p-2 hover:bg-gray-800 rounded-full"
                >
                    <Icon name="arrow-left" />
                </button>
                <h2 className="text-xl font-bold">Select Asset</h2>
            </div>

            {/* Search Bar */}
            <div className="mb-4">
                <div className="relative">
                    <Icon name="search" className="absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500" />
                    <input
                        type="text"
                        placeholder="Search coins..."
                        value={searchTerm}
                        onChange={(e) => setSearchTerm(e.target.value)}
                        className="w-full pl-10 pr-4 py-3 bg-gray-800 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
                    />
                </div>
            </div>

            {loading ? (
                <div className="flex justify-center items-center h-64">
                    <div className="animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"></div>
                </div>
            ) : (
                <div className="space-y-2 max-h-[500px] overflow-y-auto">
                    {filteredCoins.map(coin => (
                        <div
                            key={coin.id}
                            onClick={() => {
                                setSelectedCoin(coin);
                                setStep(3);
                            }}
                            className="mt-panel p-4 flex items-center justify-between cursor-pointer hover:bg-gray-800 transition-colors"
                        >
                            <div className="flex items-center gap-3">
                                <img 
                                    src={coin.image} 
                                    alt={coin.name}
                                    className="w-10 h-10 rounded-full"
                                />
                                <div>
                                    <div className="font-bold">{coin.symbol.toUpperCase()}</div>
                                    <div className="text-sm text-gray-400">{coin.name}</div>
                                </div>
                            </div>
                            <div className="text-right">
                                <div className="font-bold">
                                    ${coin.current_price?.toLocaleString('en-US', {
                                        minimumFractionDigits: 2,
                                        maximumFractionDigits: 6
                                    })}
                                </div>
                                <div className={`text-sm ${coin.price_change_percentage_24h >= 0 ? 'text-green-400' : 'text-red-400'}`}>
                                    {coin.price_change_percentage_24h?.toFixed(2)}%
                                </div>
                            </div>
                        </div>
                    ))}
                </div>
            )}
        </div>
    );

    // Step 3: Network Selection
    if (step === 3) return (
        <div className="p-4">
            <div className="flex items-center gap-3 mb-6">
                <button 
                    onClick={() => setStep(2)}
                    className="p-2 hover:bg-gray-800 rounded-full"
                >
                    <Icon name="arrow-left" />
                </button>
                <h2 className="text-xl font-bold">Select Network</h2>
            </div>

            <div className="mb-4 p-4 bg-gray-800 rounded-lg">
                <div className="flex items-center gap-3">
                    <img src={selectedCoin?.image} className="w-8 h-8" alt={selectedCoin?.name} />
                    <div>
                        <div className="font-bold">{selectedCoin?.symbol?.toUpperCase()}</div>
                        <div className="text-sm text-gray-400">{selectedCoin?.name}</div>
                    </div>
                </div>
            </div>

            <div className="space-y-3">
                {SUPPORTED_NETWORKS.map(network => (
                    <div
                        key={network.id}
                        onClick={() => {
                            setSelectedNetwork(network);
                            setStep(4);
                        }}
                        className="mt-panel p-4 flex items-center justify-between cursor-pointer hover:bg-gray-800 transition-colors"
                    >
                        <div className="flex items-center gap-3">
                            <div className="w-10 h-10 bg-gray-700 rounded-full flex items-center justify-center">
                                <Icon name="network" className="text-xl" />
                            </div>
                            <div>
                                <div className="font-bold">{network.name}</div>
                                <div className="text-sm text-gray-400">{network.type}</div>
                            </div>
                        </div>
                        <Icon name="arrow-right" className="text-gray-600" />
                    </div>
                ))}
            </div>
        </div>
    );

    // Step 4: Address & Amount
    if (step === 4) return (
        <div className="p-4">
            <div className="flex items-center gap-3 mb-6">
                <button 
                    onClick={() => setStep(3)}
                    className="p-2 hover:bg-gray-800 rounded-full"
                >
                    <Icon name="arrow-left" />
                </button>
                <h2 className="text-xl font-bold">Deposit {selectedCoin?.symbol?.toUpperCase()}</h2>
            </div>

            <div className="mb-6 p-4 bg-gray-800 rounded-lg">
                <div className="text-center mb-4">
                    <div className="text-sm text-gray-400 mb-1">Network</div>
                    <div className="font-bold text-lg">{selectedNetwork?.name}</div>
                    <div className="text-sm text-gray-400">{selectedNetwork?.type}</div>
                </div>

                {/* QR Code */}
                <div className="flex justify-center mb-4">
                    <div className="bg-white p-4 rounded-lg">
                        {/* In a real app, generate QR code using a library like qrcode.react */}
                        <div className="w-48 h-48 bg-gray-200 flex items-center justify-center">
                            <div className="text-center">
                                <Icon name="qr-code" className="text-4xl text-gray-600 mb-2 mx-auto" />
                                <div className="text-xs text-gray-600">QR Code Placeholder</div>
                            </div>
                        </div>
                    </div>
                </div>

                {/* Deposit Address */}
                <div className="mb-4">
                    <div className="text-sm text-gray-400 mb-2">Deposit Address</div>
                    <div className="flex gap-2">
                        <div className="flex-1 p-3 bg-gray-900 rounded-lg font-mono text-sm break-all">
                            {selectedNetwork?.wallet}
                        </div>
                        <button
                            onClick={handleCopyAddress}
                            className="px-4 py-3 bg-blue-600 hover:bg-blue-700 rounded-lg font-medium transition-colors"
                        >
                            {copied ? 'Copied!' : 'Copy'}
                        </button>
                    </div>
                </div>

                {/* Amount Input */}
                <div className="mb-6">
                    <label className="block text-sm text-gray-400 mb-2">
                        Deposit Amount (Optional)
                    </label>
                    <input
                        type="number"
                        value={amount}
                        onChange={(e) => setAmount(e.target.value)}
                        placeholder="Enter amount"
                        className="w-full p-3 bg-gray-900 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
                    />
                </div>

                {/* Continue Button */}
                <button
                    onClick={() => setStep(5)}
                    className="w-full py-3 bg-green-600 hover:bg-green-700 rounded-lg font-bold text-lg transition-colors"
                >
                    Continue
                </button>
            </div>

            <div className="text-sm text-gray-400">
                <p className="mb-2">âš ï¸ Important Notes:</p>
                <ul className="list-disc pl-5 space-y-1">
                    <li>Send only {selectedCoin?.symbol?.toUpperCase()} on {selectedNetwork?.name} network</li>
                    <li>Do not send other assets to this address</li>
                    <li>Minimum deposit: 10 {selectedCoin?.symbol?.toUpperCase()}</li>
                    <li>Deposits will be credited after 12 network confirmations</li>
                </ul>
            </div>
        </div>
    );

    // Step 5: Deposit Validation
    if (step === 5) return (
        <div className="p-4">
            <h2 className="text-xl font-bold mb-6">Validate Deposit</h2>
            
            <div className="mb-6 p-4 bg-gray-800 rounded-lg">
                <div className="space-y-4">
                    <div>
                        <div className="text-sm text-gray-400">Asset</div>
                        <div className="font-bold">{selectedCoin?.symbol?.toUpperCase()} - {selectedCoin?.name}</div>
                    </div>
                    
                    <div>
                        <div className="text-sm text-gray-400">Network</div>
                        <div className="font-bold">{selectedNetwork?.name} ({selectedNetwork?.type})</div>
                    </div>
                    
                    <div>
                        <div className="text-sm text-gray-400">Deposit Address</div>
                        <div className="font-mono text-sm break-all">{selectedNetwork?.wallet}</div>
                    </div>
                    
                    {amount && (
                        <div>
                            <div className="text-sm text-gray-400">Amount</div>
                            <div className="font-bold">{amount} {selectedCoin?.symbol?.toUpperCase()}</div>
                        </div>
                    )}
                </div>
            </div>

            <div className="mb-6">
                <label className="block text-sm text-gray-400 mb-2">
                    Enter Deposit Code
                </label>
                <input
                    type="text"
                    value={code}
                    onChange={(e) => setCode(e.target.value)}
                    placeholder="Enter 6-digit deposit code"
                    maxLength="6"
                    className="w-full p-3 bg-gray-800 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-center text-2xl tracking-widest font-mono"
                />
                <p className="text-xs text-gray-400 mt-2">
                    Check your email for the deposit code
                </p>
            </div>

            <div className="space-y-3">
                <button
                    onClick={() => {
                        // Validate code and process deposit
                        if (VALID_DEPOSIT_CODES.includes(code)) {
                            alert('Deposit validated successfully!');
                            // Reset or navigate away
                            setStep(1);
                            setSelectedCoin(null);
                            setSelectedNetwork(null);
                            setAmount("");
                            setCode("");
                        } else {
                            alert('Invalid deposit code');
                        }
                    }}
                    className="w-full py-3 bg-green-600 hover:bg-green-700 rounded-lg font-bold text-lg transition-colors"
                >
                    Validate & Complete
                </button>
                
                <button
                    onClick={() => setStep(4)}
                    className="w-full py-3 bg-gray-700 hover:bg-gray-600 rounded-lg font-medium transition-colors"
                >
                    Back
                </button>
            </div>
        </div>
    );
};

            const Register = () => {
                const [form, setForm] = useState({ fullName: '', email: '', password: '', confirm: '' });
                const [error, setError] = useState("");

                const submit = (e) => {
                    e.preventDefault();
                    if (form.password !== form.confirm) return setError("Passwords don't match");
                    if (form.password.length < 6) return setError("Password too short");
                    handleRegister(form);
                };

                return (
                    <div className="p-8 flex flex-col items-center justify-center min-h-screen">
                        <div className="w-full max-w-sm">
                            <h2 className="text-2xl font-bold mb-6">Create Real Account</h2>
                            <form onSubmit={submit} className="flex flex-col gap-4">
                                <input required type="text" placeholder="Full Name" className="bg-[#0f172a] p-4 mt-border outline-none focus:border-blue-500" onChange={e => setForm({...form, fullName: e.target.value})}/>
                                <input required type="email" placeholder="Email Address" className="bg-[#0f172a] p-4 mt-border outline-none focus:border-blue-500" onChange={e => setForm({...form, email: e.target.value})}/>
                                <input required type="password" placeholder="Password" className="bg-[#0f172a] p-4 mt-border outline-none focus:border-blue-500" onChange={e => setForm({...form, password: e.target.value})}/>
                                <input required type="password" placeholder="Confirm Password" className="bg-[#0f172a] p-4 mt-border outline-none focus:border-blue-500" onChange={e => setForm({...form, confirm: e.target.value})}/>
                                {error && <p className="text-red-500 text-xs">{error}</p>}
                                <button className="bg-blue-600 py-4 font-bold mt-2 hover:bg-blue-700">Register</button>
                                <button type="button" onClick={() => setView('landing')} className="text-xs text-gray-400 underline">Back to Landing</button>
                            </form>
                        </div>
                    </div>
                );
            };

            const History = () => (
                <div className="p-4 pb-20">
                    <h2 className="text-xl font-bold mb-4">Account History</h2>
                    {history.length === 0 ? (
                        <div className="p-10 text-center text-gray-600 italic">No transaction history</div>
                    ) : (
                        <div className="flex flex-col gap-2">
                            {history.map((h, i) => (
                                <div key={i} className="mt-panel p-4 flex justify-between items-center">
                                    <div>
                                        <div className="font-bold text-sm">{h.type}</div>
                                        <div className="text-[10px] text-gray-500">{h.date}</div>
                                    </div>
                                    <div className="text-right">
                                        <div className={`font-bold mono ${h.type === 'Deposit' ? 'text-green-500' : 'text-red-500'}`}>
                                            {h.type === 'Deposit' ? '+' : '-'}${h.amount}
                                        </div>
                                        <div className="text-[10px] text-gray-500">{h.status}</div>
                                    </div>
                                </div>
                            ))}
                        </div>
                    )}
                </div>
            );

            return (
                <div className="flex flex-col h-screen max-w-lg mx-auto bg-[#0b1220]">
                    {loading && <LoadingOverlay />}
                    {modal && <Modal data={modal} onClose={() => setModal(null)} />}
                    
                    {view !== 'landing' && view !== 'register' && view !== 'login' && <Navbar />}
                    
                    <div className="flex-1 overflow-y-auto">
                        {view === 'landing' && <Landing />}
                        {view === 'register' && <Register />}
                        {view === 'login' && <div className="p-8"><h2 className="text-xl font-bold">Login Section</h2><p className="mt-4 text-gray-400">Please enter your 10-digit ID</p><input className="w-full bg-[#0f172a] p-4 mt-border mt-4 outline-none"/><button onClick={() => handleLogin({})} className="w-full bg-blue-600 py-4 font-bold mt-4">Login</button></div>}
                        {view === 'dashboard' && <Dashboard />}
                        {view === 'quotes' && <Quotes />}
                        {view === 'charts' && <Chart />}
                        {view === 'trade' && <TradePage />}
                        {view === 'order' && <OrderTicket />}
                        {view === 'deposit' && <DepositView />}
                        {view === 'history' && <History />}
                        {view === 'settings' && (
                            <div className="p-6">
                                <h2 className="text-xl font-bold mb-6">Settings</h2>
                                <div className="mt-panel p-4 flex flex-col gap-4">
                                    <button className="flex items-center justify-between"><span>Notifications</span><span className="text-blue-400">ON</span></button>
                                    <button className="flex items-center justify-between"><span>Language</span><span className="text-gray-400">English</span></button>
                                    <button onClick={() => { localStorage.clear(); window.location.reload(); }} className="text-red-500 font-bold border-t border-gray-800 pt-4 text-left">Logout & Clear Data</button>
                                </div>
                            </div>
                        )}
                    </div>

                    {view !== 'landing' && view !== 'register' && view !== 'login' && <BottomNav />}
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>
